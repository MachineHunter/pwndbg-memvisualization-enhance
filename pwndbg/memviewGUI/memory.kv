#:kivy 2.0.0
#: import hex kivy.utils.get_color_from_hex

MemoryRoot:

<MemoryRoot>:
    canvas.before:
        Color:
            rgba: hex('#ffffff')
        Rectangle:
            pos: self.pos
            size: self.size

        Color:
            rgba: hex('#000000')
        Line:
            points: [root.size[0]*0.7, 0, root.size[0]*0.7, root.size[1], root.size[0]*0.7, 0]
            width: 1
    StartMemory:
        id: start_memory
    
<StartMemory>:
    orientation: 'horizontal'
    size: root.size
    ScrollView:
        id: scroll_view
        size_hint_x: 0.7
        scroll_type: ['bars']
        bar_width: 16
        FloatLayout:
            id: base_area
            size_hint_y: root.scroll_height / root.height

    FloatLayout:
        size_hint_x: 0.3
        canvas.before:
            Color:
                rgba: hex('#fffacd')
            Rectangle:
                pos: self.pos
                size: self.size
        Button:
            id: stop
            text: '||'
            bold: True
            size_hint: (0.2, 0.1)
            font_size: 50
            pos_hint: {'x': 0.1, 'top': 0.95}
            on_press: print(app.root.ids['start_memory'].ids)
            
        Button:
            id: continue
            text: 'â–¶'
            size_hint: (0.2, 0.1)
            font_size: 50
            pos_hint: {'x': 0.35, 'top': 0.95}
            on_press: print(app.root.pos)

        Button:
            id: snap
            text: 'Snapshot'
            size_hint: (0.8, 0.1)
            font_size: 30
            pos_hint: {'x': 0.1, 'top': 0.80}
            on_press: print(app.root.pos)
        
        Button:
            id: view_snap
            text: 'View Snapshot'
            size_hint: (0.8, 0.1)
            font_size: 30
            pos_hint: {'x': 0.1, 'top': 0.65}
            on_press: print(app.root.pos)
        
        Button:
            id: help
            text: 'Help'
            size_hint: (0.25, 0.1)
            font_size: 30
            pos_hint: {'x': 0.1, 'top': 0.12}
            on_press: print(app.root.pos)

<NoneArea>:
    FloatLayout:
        id: none_area
        size: root.size
        Label:
            size_hint: (0.5, root.memory_height)
            pos_hint: {'x': root.pos_x, 'top': root.top}
            canvas.before:
                Color:
                    rgba: hex('#dcdcdc')
                Rectangle:
                    pos: self.pos
                    size: self.size

<SectionArea>:
    FloatLayout:
        size: root.size
        Label:
            text: root.text
            font_size: root.font_size
            color: root.text_color
            size_hint: (root.x, root.y)
            pos_hint: {'x': root.pos_x, 'top': root.top}
            canvas.before:
                Color:
                    rgba: hex(root.color)
                Rectangle:
                    pos: self.pos
                    size: self.size
        Label:
            text: root.start_address
            font_size: root.label_font_size
            color: root.label_color
            size_hint: (root.label_size[0], root.label_size[1])
            pos_hint: {'x': root.label_x, 'top': root.top}
        Label:
            text: root.end_address
            font_size: root.label_font_size
            color: root.label_color
            size_hint: (root.label_size[0], root.label_size[1])
            pos_hint: {'x': root.label_x, 'top': root.top-root.y+root.label_size[1]}